<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gossamer: peripherals/i2c.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">gossamer<span id="projectnumber">&#160;0.0.0</span>
   </div>
   <div id="projectbrief">a very lightweight app framework for SAMD and SAML chips</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2df1e86e29aa9f9374c90ba96092d4a1.html">peripherals</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">i2c.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>I2C Peripheral.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
</div>
<p><a href="i2c_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2fd2e5926c0bb656d91f74f8dea6f1cd"><td class="memItemLeft" align="right" valign="top"><a id="a2fd2e5926c0bb656d91f74f8dea6f1cd" name="a2fd2e5926c0bb656d91f74f8dea6f1cd"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>I2CResult</b> { <br />
&#160;&#160;<b>I2C_RESULT_SUCCESS</b> = 0
, <b>I2C_RESULT_ERR_ADDR_NACK</b> = -1
, <b>I2C_RESULT_ERR_BUSSTATE</b> = -2
, <b>I2C_RESULT_ERR_BUSERR</b> = -3
, <br />
&#160;&#160;<b>I2C_RESULT_ERR_DATA_NACK</b> = -4
<br />
 }</td></tr>
<tr class="separator:a2fd2e5926c0bb656d91f74f8dea6f1cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5730d9445429351b9f750084c5cb5aae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a5730d9445429351b9f750084c5cb5aae">i2c_init</a> (void)</td></tr>
<tr class="memdesc:a5730d9445429351b9f750084c5cb5aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the I2C peripheral for a board with defined SDA/SCL pins. Defaults to a bus speed of 400kHz.  <a href="i2c_8h.html#a5730d9445429351b9f750084c5cb5aae">More...</a><br /></td></tr>
<tr class="separator:a5730d9445429351b9f750084c5cb5aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a1923e2271df541e858cb4e05d7b895"><td class="memItemLeft" align="right" valign="top"><a id="a5a1923e2271df541e858cb4e05d7b895" name="a5a1923e2271df541e858cb4e05d7b895"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>i2c_enable</b> (void)</td></tr>
<tr class="memdesc:a5a1923e2271df541e858cb4e05d7b895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the I2C peripheral for a board with defined SDA/SCL pins. <br /></td></tr>
<tr class="separator:a5a1923e2271df541e858cb4e05d7b895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ecbbaf0c77591bc4a80e6ecd943e64c"><td class="memItemLeft" align="right" valign="top">I2CResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a9ecbbaf0c77591bc4a80e6ecd943e64c">i2c_write</a> (uint8_t address, uint8_t *data, size_t len)</td></tr>
<tr class="memdesc:a9ecbbaf0c77591bc4a80e6ecd943e64c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes data to an I2C device at the provided address.  <a href="i2c_8h.html#a9ecbbaf0c77591bc4a80e6ecd943e64c">More...</a><br /></td></tr>
<tr class="separator:a9ecbbaf0c77591bc4a80e6ecd943e64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe70f8fe4c72329b89ec526c749f50d7"><td class="memItemLeft" align="right" valign="top"><a id="abe70f8fe4c72329b89ec526c749f50d7" name="abe70f8fe4c72329b89ec526c749f50d7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>i2c_disable</b> (void)</td></tr>
<tr class="memdesc:abe70f8fe4c72329b89ec526c749f50d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the I2C peripheral for a board with defined SDA/SCL pins. <br /></td></tr>
<tr class="separator:abe70f8fe4c72329b89ec526c749f50d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4070841b773d898e8a7fb5fb27dab633"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a4070841b773d898e8a7fb5fb27dab633">i2c_init_custom</a> (uint8_t sercom, uint32_t baud)</td></tr>
<tr class="memdesc:a4070841b773d898e8a7fb5fb27dab633"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an I2C peripheral on the given SERCOM.  <a href="i2c_8h.html#a4070841b773d898e8a7fb5fb27dab633">More...</a><br /></td></tr>
<tr class="separator:a4070841b773d898e8a7fb5fb27dab633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1cd408436574ff30998079b76db7f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a9d1cd408436574ff30998079b76db7f6">i2c_enable_custom</a> (uint8_t sercom)</td></tr>
<tr class="memdesc:a9d1cd408436574ff30998079b76db7f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the I2C peripheral on the given SERCOM.  <a href="i2c_8h.html#a9d1cd408436574ff30998079b76db7f6">More...</a><br /></td></tr>
<tr class="separator:a9d1cd408436574ff30998079b76db7f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680126a406db022e2566e01394237de7"><td class="memItemLeft" align="right" valign="top">I2CResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a680126a406db022e2566e01394237de7">i2c_write_custom</a> (uint8_t sercom, uint8_t address, uint8_t *data, size_t len)</td></tr>
<tr class="memdesc:a680126a406db022e2566e01394237de7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes data to an I2C device on the given SERCOM at the provided address.  <a href="i2c_8h.html#a680126a406db022e2566e01394237de7">More...</a><br /></td></tr>
<tr class="separator:a680126a406db022e2566e01394237de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5a5fb6391172e4af6dc8628b38b8c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a8a5a5fb6391172e4af6dc8628b38b8c1">i2c_disable_custom</a> (uint8_t sercom)</td></tr>
<tr class="memdesc:a8a5a5fb6391172e4af6dc8628b38b8c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the I2C peripheral on the given SERCOM.  <a href="i2c_8h.html#a8a5a5fb6391172e4af6dc8628b38b8c1">More...</a><br /></td></tr>
<tr class="separator:a8a5a5fb6391172e4af6dc8628b38b8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >I2C Peripheral. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8a5a5fb6391172e4af6dc8628b38b8c1" name="a8a5a5fb6391172e4af6dc8628b38b8c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a5a5fb6391172e4af6dc8628b38b8c1">&#9670;&#160;</a></span>i2c_disable_custom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_disable_custom </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sercom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the I2C peripheral on the given SERCOM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sercom</td><td>The SERCOM of the I2C peripheral, as numbered in the data sheet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d1cd408436574ff30998079b76db7f6" name="a9d1cd408436574ff30998079b76db7f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d1cd408436574ff30998079b76db7f6">&#9670;&#160;</a></span>i2c_enable_custom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_enable_custom </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sercom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the I2C peripheral on the given SERCOM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sercom</td><td>The SERCOM of the I2C peripheral, as numbered in the data sheet. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5730d9445429351b9f750084c5cb5aae" name="a5730d9445429351b9f750084c5cb5aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5730d9445429351b9f750084c5cb5aae">&#9670;&#160;</a></span>i2c_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the I2C peripheral for a board with defined SDA/SCL pins. Defaults to a bus speed of 400kHz. </p>
<p >This function will only work if a board has pins named SDA and SCL, and relevant definitions for I2C_SERCOM. If you don't have these definitions, the build will fail at link time. </p>

</div>
</div>
<a id="a4070841b773d898e8a7fb5fb27dab633" name="a4070841b773d898e8a7fb5fb27dab633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4070841b773d898e8a7fb5fb27dab633">&#9670;&#160;</a></span>i2c_init_custom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_init_custom </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sercom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an I2C peripheral on the given SERCOM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sercom</td><td>The SERCOM you wish to use, as numbered in the data sheet. </td></tr>
    <tr><td class="paramname">baud</td><td>The baud rate you wish to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>You are responsible for setting the appropriate pin mux for the SDA and SCL pins. This function does not know which pins you intend to use, or whether they are on the SERCOM or SERCOM_ALT pin mux. </dd></dl>

</div>
</div>
<a id="a9ecbbaf0c77591bc4a80e6ecd943e64c" name="a9ecbbaf0c77591bc4a80e6ecd943e64c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ecbbaf0c77591bc4a80e6ecd943e64c">&#9670;&#160;</a></span>i2c_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">I2CResult i2c_write </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes data to an I2C device at the provided address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The I2C address of the device. </td></tr>
    <tr><td class="paramname">data</td><td>The data to write. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the data to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a680126a406db022e2566e01394237de7" name="a680126a406db022e2566e01394237de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a680126a406db022e2566e01394237de7">&#9670;&#160;</a></span>i2c_write_custom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">I2CResult i2c_write_custom </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sercom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes data to an I2C device on the given SERCOM at the provided address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sercom</td><td>The SERCOM of the I2C peripheral, as numbered in the data sheet. </td></tr>
    <tr><td class="paramname">address</td><td>The I2C address of the device. </td></tr>
    <tr><td class="paramname">data</td><td>The data to write. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the data to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
