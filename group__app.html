<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gossamer: Gossamer application framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">gossamer<span id="projectnumber">&#160;0.0.1</span>
   </div>
   <div id="projectbrief">a very lightweight app framework for SAMD and SAML chips</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__app.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Gossamer application framework</div></div>
</div><!--header-->
<div class="contents">

<p>This section describes the application framework that you will use to write your firmware.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadd3190cf715f513666f4be42874d91e2" id="r_gadd3190cf715f513666f4be42874d91e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadd3190cf715f513666f4be42874d91e2">app_init</a> (void)</td></tr>
<tr class="memdesc:gadd3190cf715f513666f4be42874d91e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function you will implement to initialize your application's low- level setup. The app_init function is called after system clocks are initialized, and before anything else.  <br /></td></tr>
<tr class="separator:gadd3190cf715f513666f4be42874d91e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6a9f08ba879ce8d28fb19ca2882890a" id="r_gab6a9f08ba879ce8d28fb19ca2882890a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab6a9f08ba879ce8d28fb19ca2882890a">app_wake_from_backup</a> (void)</td></tr>
<tr class="memdesc:gab6a9f08ba879ce8d28fb19ca2882890a"><td class="mdescLeft">&#160;</td><td class="mdescRight">OPTIONAL: A function you may implement to restore state after waking up from BACKUP mode on the SAM L21 or L22. This function is called after system_init, but before app_setup. You can stash a bit of your application state in the RTC's BKUP and GPn registers, and use this function as an opportinity to restore it before app_setup is called.  <br /></td></tr>
<tr class="separator:gab6a9f08ba879ce8d28fb19ca2882890a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacce192accedbd296eb8d2182f8101f16" id="r_gacce192accedbd296eb8d2182f8101f16"><td class="memItemLeft" align="right" valign="top"><a id="gacce192accedbd296eb8d2182f8101f16" name="gacce192accedbd296eb8d2182f8101f16"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>app_setup</b> (void)</td></tr>
<tr class="memdesc:gacce192accedbd296eb8d2182f8101f16"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function you will implement to set up your app. The app_setup function is like setup() in Arduino. It is called once when the program begins, after app_init and app_wake_from_backup, if it exists. You should use this function to set up your application state and configure any peripherals you need to use. <br /></td></tr>
<tr class="separator:gacce192accedbd296eb8d2182f8101f16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1cfce0ef962cd2afe2d8b2d2d13482a" id="r_gad1cfce0ef962cd2afe2d8b2d2d13482a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad1cfce0ef962cd2afe2d8b2d2d13482a">app_loop</a> (void)</td></tr>
<tr class="memdesc:gad1cfce0ef962cd2afe2d8b2d2d13482a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function you will implement to serve as the app's main run loop. This method will be called repeatedly, or if you enter STANDBY mode, as soon as the device wakes from that mode.  <br /></td></tr>
<tr class="separator:gad1cfce0ef962cd2afe2d8b2d2d13482a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cb51f5c2b5cad3766f19eb69c92793b" id="r_ga7cb51f5c2b5cad3766f19eb69c92793b"><td class="memItemLeft" align="right" valign="top"><a id="ga7cb51f5c2b5cad3766f19eb69c92793b" name="ga7cb51f5c2b5cad3766f19eb69c92793b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>yield</b> (void)</td></tr>
<tr class="memdesc:ga7cb51f5c2b5cad3766f19eb69c92793b"><td class="mdescLeft">&#160;</td><td class="mdescRight">OPTIONAL: A function to yield control of the CPU to other tasks. This function is called in the delay function to allow other tasks to run while the CPU is busy waiting. By default, this function does nothing, but if you are using the USB peripheral, you should implement this function and call <code>tud_task</code> at minumum, along with any other USB-related tasks you need to run. <br /></td></tr>
<tr class="separator:ga7cb51f5c2b5cad3766f19eb69c92793b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This section describes the application framework that you will use to write your firmware. </p>
<p>All Gossamer applications are built by implementing the three functions described in this section. There is an optional fourth function that relates to the SAM L21 and L22's BACKUP mode, but you do not need to implement it unless you are using the BACKUP mode functionality. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gadd3190cf715f513666f4be42874d91e2" name="gadd3190cf715f513666f4be42874d91e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd3190cf715f513666f4be42874d91e2">&#9670;&#160;</a></span>app_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function you will implement to initialize your application's low- level setup. The app_init function is called after system clocks are initialized, and before anything else. </p>
<p>You may be wondering why there is an <code>app_init</code> function as well as an <code>app_setup</code> function. The main difference is that app_init is only meant to be callec once, at boot, whereas you might want to call app_setup multiple times, for example if you want to disable some peripherals before entering STANDBY mode, and re-enable them after waking up. In essence, you should set up anything that will run forever in app_init, whereas anything that could get turned off in the course of execution should be set up in app_setup. If your application plans to use the real-time clock perhiperal, you probably want to call the <code>rtc_init</code> function here. </p>

</div>
</div>
<a id="gad1cfce0ef962cd2afe2d8b2d2d13482a" name="gad1cfce0ef962cd2afe2d8b2d2d13482a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1cfce0ef962cd2afe2d8b2d2d13482a">&#9670;&#160;</a></span>app_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool app_loop </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function you will implement to serve as the app's main run loop. This method will be called repeatedly, or if you enter STANDBY mode, as soon as the device wakes from that mode. </p>
<dl class="section note"><dt>Note</dt><dd>In order to wake from STANDBY mode, you must set up an interrupt or wake source. Otherwise your app will remain in STANDBY indefinitely. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true if your app is prepared to enter STANDBY mode. If you return false, your app's app_loop method will be called again immediately. </dd></dl>

</div>
</div>
<a id="gab6a9f08ba879ce8d28fb19ca2882890a" name="gab6a9f08ba879ce8d28fb19ca2882890a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6a9f08ba879ce8d28fb19ca2882890a">&#9670;&#160;</a></span>app_wake_from_backup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_wake_from_backup </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OPTIONAL: A function you may implement to restore state after waking up from BACKUP mode on the SAM L21 or L22. This function is called after system_init, but before app_setup. You can stash a bit of your application state in the RTC's BKUP and GPn registers, and use this function as an opportinity to restore it before app_setup is called. </p>
<dl class="section note"><dt>Note</dt><dd>You do not need to implement this function unless you are using the SAM L21 or L22 and you want to restore state from BACKUP mode. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
