<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gossamer: External Interrupt Controller</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">gossamer<span id="projectnumber">&#160;0.0.1</span>
   </div>
   <div id="projectbrief">a very lightweight app framework for SAMD and SAML chips</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__eic.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">External Interrupt Controller</div></div>
</div><!--header-->
<div class="contents">

<p>Functions for configuring and using the External Interrupt Controller.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga2dcfd365c180eb12af23e9f125089244" id="r_ga2dcfd365c180eb12af23e9f125089244"><td class="memItemLeft" align="right" valign="top"><a id="ga2dcfd365c180eb12af23e9f125089244" name="ga2dcfd365c180eb12af23e9f125089244"></a>
typedef enum <a class="el" href="#gac1fe47482a1a2c642408f50c2db9469f">eic_interrupt_trigger_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>eic_interrupt_trigger_t</b></td></tr>
<tr class="memdesc:ga2dcfd365c180eb12af23e9f125089244"><td class="mdescLeft">&#160;</td><td class="mdescRight">An enum defining the types of interrupt trigger you wish to scan for. <br /></td></tr>
<tr class="separator:ga2dcfd365c180eb12af23e9f125089244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1307c9386c44cc522cdb656102218ad7" id="r_ga1307c9386c44cc522cdb656102218ad7"><td class="memItemLeft" align="right" valign="top"><a id="ga1307c9386c44cc522cdb656102218ad7" name="ga1307c9386c44cc522cdb656102218ad7"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>eic_cb_t</b>) (uint8_t channel)</td></tr>
<tr class="separator:ga1307c9386c44cc522cdb656102218ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac1fe47482a1a2c642408f50c2db9469f" id="r_gac1fe47482a1a2c642408f50c2db9469f"><td class="memItemLeft" align="right" valign="top"><a id="gac1fe47482a1a2c642408f50c2db9469f" name="gac1fe47482a1a2c642408f50c2db9469f"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac1fe47482a1a2c642408f50c2db9469f">eic_interrupt_trigger_t</a> { <b>INTERRUPT_TRIGGER_NONE</b> = 0
, <b>INTERRUPT_TRIGGER_RISING</b>
, <b>INTERRUPT_TRIGGER_FALLING</b>
, <b>INTERRUPT_TRIGGER_BOTH</b>
 }</td></tr>
<tr class="memdesc:gac1fe47482a1a2c642408f50c2db9469f"><td class="mdescLeft">&#160;</td><td class="mdescRight">An enum defining the types of interrupt trigger you wish to scan for. <br /></td></tr>
<tr class="separator:gac1fe47482a1a2c642408f50c2db9469f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac66cb10fff656315b12df4248f798c41" id="r_gac66cb10fff656315b12df4248f798c41"><td class="memItemLeft" align="right" valign="top"><a id="gac66cb10fff656315b12df4248f798c41" name="gac66cb10fff656315b12df4248f798c41"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eic_init</b> (void)</td></tr>
<tr class="memdesc:gac66cb10fff656315b12df4248f798c41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the external interrupt controller, but does not enable it. <br /></td></tr>
<tr class="separator:gac66cb10fff656315b12df4248f798c41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd8706ad3219397c91636524d2149eb0" id="r_gafd8706ad3219397c91636524d2149eb0"><td class="memItemLeft" align="right" valign="top"><a id="gafd8706ad3219397c91636524d2149eb0" name="gafd8706ad3219397c91636524d2149eb0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eic_enable</b> (void)</td></tr>
<tr class="memdesc:gafd8706ad3219397c91636524d2149eb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the external interrupt controller. <br /></td></tr>
<tr class="separator:gafd8706ad3219397c91636524d2149eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3f788b42c85e67030aea844ee02b8b0" id="r_gad3f788b42c85e67030aea844ee02b8b0"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad3f788b42c85e67030aea844ee02b8b0">eic_configure_pin</a> (const uint8_t pin, <a class="el" href="#gac1fe47482a1a2c642408f50c2db9469f">eic_interrupt_trigger_t</a> trigger, bool filten)</td></tr>
<tr class="memdesc:gad3f788b42c85e67030aea844ee02b8b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures an external interrupt on one of the external interrupt pins.  <br /></td></tr>
<tr class="separator:gad3f788b42c85e67030aea844ee02b8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95932a1b8c5442120cd6caa7a5cb0733" id="r_ga95932a1b8c5442120cd6caa7a5cb0733"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga95932a1b8c5442120cd6caa7a5cb0733">eic_enable_interrupt</a> (const uint8_t pin)</td></tr>
<tr class="memdesc:ga95932a1b8c5442120cd6caa7a5cb0733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables an interrupt on the given interrupt channel.  <br /></td></tr>
<tr class="separator:ga95932a1b8c5442120cd6caa7a5cb0733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48015b16099d943fad32302fad6114a1" id="r_ga48015b16099d943fad32302fad6114a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga48015b16099d943fad32302fad6114a1">eic_disable_interrupt</a> (const uint8_t pin)</td></tr>
<tr class="memdesc:ga48015b16099d943fad32302fad6114a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the interrupt on the given interrupt channel.  <br /></td></tr>
<tr class="separator:ga48015b16099d943fad32302fad6114a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6a140e7799fec385ff48c97f399b7cf" id="r_gae6a140e7799fec385ff48c97f399b7cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae6a140e7799fec385ff48c97f399b7cf">eic_enable_event</a> (const uint8_t pin)</td></tr>
<tr class="memdesc:gae6a140e7799fec385ff48c97f399b7cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables an interrupt on the given interrupt channel.  <br /></td></tr>
<tr class="separator:gae6a140e7799fec385ff48c97f399b7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21e4b3925d449c25fe3831b167845161" id="r_ga21e4b3925d449c25fe3831b167845161"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga21e4b3925d449c25fe3831b167845161">eic_disable_event</a> (const uint8_t pin)</td></tr>
<tr class="memdesc:ga21e4b3925d449c25fe3831b167845161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the interrupt on the given interrupt channel.  <br /></td></tr>
<tr class="separator:ga21e4b3925d449c25fe3831b167845161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5695270545c3f5b6a24682447108e6cd" id="r_ga5695270545c3f5b6a24682447108e6cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5695270545c3f5b6a24682447108e6cd">eic_configure_callback</a> (eic_cb_t callback)</td></tr>
<tr class="memdesc:ga5695270545c3f5b6a24682447108e6cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures an external interrupt callback.  <br /></td></tr>
<tr class="separator:ga5695270545c3f5b6a24682447108e6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabaae85c8706e41bb2cc2b7aa7be956e6" id="r_gabaae85c8706e41bb2cc2b7aa7be956e6"><td class="memItemLeft" align="right" valign="top"><a id="gabaae85c8706e41bb2cc2b7aa7be956e6" name="gabaae85c8706e41bb2cc2b7aa7be956e6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>eic_disable</b> (void)</td></tr>
<tr class="memdesc:gabaae85c8706e41bb2cc2b7aa7be956e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the external interrupt controller. <br /></td></tr>
<tr class="separator:gabaae85c8706e41bb2cc2b7aa7be956e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions for configuring and using the External Interrupt Controller. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5695270545c3f5b6a24682447108e6cd" name="ga5695270545c3f5b6a24682447108e6cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5695270545c3f5b6a24682447108e6cd">&#9670;&#160;</a></span>eic_configure_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eic_configure_callback </td>
          <td>(</td>
          <td class="paramtype">eic_cb_t</td>          <td class="paramname"><span class="paramname"><em>callback</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures an external interrupt callback. </p>
<p>You only get the one callback, so if you need to handle multiple interrupts, you'll need to check the EIC-&gt;INTFLAG register in your callback to determine which interrupt fired. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The function that will be called when the interrupt fires. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is called from the interrupt handler, so it should be as short as possible. </dd></dl>

</div>
</div>
<a id="gad3f788b42c85e67030aea844ee02b8b0" name="gad3f788b42c85e67030aea844ee02b8b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3f788b42c85e67030aea844ee02b8b0">&#9670;&#160;</a></span>eic_configure_pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t eic_configure_pin </td>
          <td>(</td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gac1fe47482a1a2c642408f50c2db9469f">eic_interrupt_trigger_t</a></td>          <td class="paramname"><span class="paramname"><em>trigger</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>filten</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures an external interrupt on one of the external interrupt pins. </p>
<p>This function configures the interrupt channel with the specified trigger, but it does not set pin direction, mux or pull; you must set up the pin yourself. This function also does not enable an interrupt or event generation. You must call <a class="el" href="#ga95932a1b8c5442120cd6caa7a5cb0733" title="Enables an interrupt on the given interrupt channel.">eic_enable_interrupt()</a> or <a class="el" href="#gae6a140e7799fec385ff48c97f399b7cf" title="Enables an interrupt on the given interrupt channel.">eic_enable_event()</a> to either wake the processor or generate an event for a peripheral. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>The external interrupt pin you wish to configure — use HAL_GPIO_xxx_PIN() macro. </td></tr>
    <tr><td class="paramname">trigger</td><td>The condition on which you wish to trigger: rising, falling or both. </td></tr>
    <tr><td class="paramname">filten</td><td>A boolean indicating whether to enable filtering. This causes the EIC to sample the pin three times (clocked by the EIC clock) and apply a majority vote filter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the EIC channel number associated with the pin, or -1 if the pin is not an interrupt pin. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Be sure to check your pin multiplexing table to ensure that you do not have multiple pins assigned to the same interrupt channel. Also note that the NMI pin is not currently supported. </dd></dl>
<p>FIXME: Should we have macros for this that accept a port / pin?</p>

</div>
</div>
<a id="ga21e4b3925d449c25fe3831b167845161" name="ga21e4b3925d449c25fe3831b167845161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21e4b3925d449c25fe3831b167845161">&#9670;&#160;</a></span>eic_disable_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eic_disable_event </td>
          <td>(</td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the interrupt on the given interrupt channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>The external interrupt pin. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga48015b16099d943fad32302fad6114a1" name="ga48015b16099d943fad32302fad6114a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga48015b16099d943fad32302fad6114a1">&#9670;&#160;</a></span>eic_disable_interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eic_disable_interrupt </td>
          <td>(</td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the interrupt on the given interrupt channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>The external interrupt pin. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae6a140e7799fec385ff48c97f399b7cf" name="gae6a140e7799fec385ff48c97f399b7cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6a140e7799fec385ff48c97f399b7cf">&#9670;&#160;</a></span>eic_enable_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eic_enable_event </td>
          <td>(</td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables an interrupt on the given interrupt channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>The external interrupt pin. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga95932a1b8c5442120cd6caa7a5cb0733" name="ga95932a1b8c5442120cd6caa7a5cb0733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95932a1b8c5442120cd6caa7a5cb0733">&#9670;&#160;</a></span>eic_enable_interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eic_enable_interrupt </td>
          <td>(</td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables an interrupt on the given interrupt channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>The external interrupt pin. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
